<Page x:Class="RogueAntivirusPatched.View.Pages.JunkCleanerPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:RogueAntivirusPatched.View.Pages"
      xmlns:viewModel="clr-namespace:RogueAntivirusPatched.ViewModel"
      xmlns:userControl="clr-namespace:RogueAntivirusPatched.View.CustomUserControl"
      mc:Ignorable="d" 
      d:DesignHeight="470" d:DesignWidth="800"
      Title="JunkCleanerPage"
      Loaded="Page_Loaded"
      d:DataContext="{d:DesignInstance viewModel:vmJunkCleanerPage, IsDesignTimeCreatable=True}">

    <Page.Resources>
        <Style TargetType="TextBlock" BasedOn="{StaticResource PageFont}"/>
        <Style TargetType="CheckBox" BasedOn="{StaticResource CustomCheckBoxStyle}">
            <Setter Property="Margin" Value="20 0 0 5"/>
        </Style>
    </Page.Resources>
    
    <Grid>
        <Border Background="{StaticResource PageBackground}"/>
        <Grid>

            <Image Width="150" Height="150" Source="{StaticResource Sweeper}"
                   VerticalAlignment="Bottom" Margin="10"/>

            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled"  Margin="10">
                <StackPanel IsEnabled="{Binding ToggleButtons}">
                    <TextBlock Text="Scanning Mode" Margin="0 0 0 5"/>
                    <StackPanel Orientation="Horizontal" Margin="10 0 0 10">
                        <userControl:CustomRadialButton SetContent="Standard"
                                                        SetGroupName="ScanningModes"
                                                        SetIsChecked="{Binding IsStandard, Mode=TwoWay}"
                                                        SetIsEnabled="{Binding ToggleButtons}"
                                                        Margin="0 0 10 0"/>
                        <userControl:CustomRadialButton SetContent="Advanced"
                                SetGroupName="ScanningModes"
                                SetIsChecked="{Binding IsAdvanced, Mode=TwoWay}"
                                SetIsEnabled="{Binding ToggleButtons}"
                                Margin="0 0 10 0"
                                PreviewMouseDown="AdvancedBtn_Click"/>
                    </StackPanel>

                    <TextBlock Text="System" Margin="0 0 0 5"/>
                    <CheckBox Content="{Binding ContentTemp}"
                              IsChecked="{Binding IsTemp}"/>
                    <CheckBox Content="{Binding ContentMemory}"
                              IsChecked="{Binding IsMemory}"/>
                    <CheckBox Content="{Binding ContentLogs}"
                              IsChecked="{Binding IsLogs}"/>
                    <CheckBox Content="{Binding ContentChkdks}"
                              IsChecked="{Binding IsChkdsk}"/>
                    <CheckBox Content="{Binding ContentCache}"
                              IsChecked="{Binding IsCache}"/>
                    <CheckBox Content="{Binding ContentError}"
                              IsChecked="{Binding IsError}"/>
                    <CheckBox Content="{Binding ContentStartMenu}"
                              IsChecked="{Binding IsStartMenu}"/>
                    <CheckBox Content="{Binding ContentStartUp}"
                              IsChecked="{Binding IsStartUp}"/>
                </StackPanel>
            </ScrollViewer>

            <StackPanel Grid.Column="1" Margin="10">
                <StackPanel Orientation="Horizontal" Margin="0 0 0 10">
                    <ProgressBar Style="{StaticResource CustomProgressBar}" 
                                 Value="{Binding ProcessBarValue}"
                                 Width="470"/>
                    <TextBlock Text="{Binding ProcessBarPercentage}" Margin="10 0 0 0"/>
                </StackPanel>

                <Border BorderBrush="{StaticResource LightBlueFade}"
                        BorderThickness="2"
                        CornerRadius="5"
                        Margin="0 0 0 5">
                    <StackPanel Margin="10">
                        <TextBlock Text="{Binding AboutProgress, UpdateSourceTrigger=PropertyChanged}"
                                   FontWeight="Bold" FontSize="16"/>
                        <TextBlock Text="{Binding ProgressDetails, UpdateSourceTrigger=PropertyChanged}"
                                   Foreground="{StaticResource WhiteFade}" FontSize="12"/>
                    </StackPanel>
                </Border>

                <Border BorderBrush="{StaticResource LightBlueFade}"
                        BorderThickness="2"
                        CornerRadius="5"
                        Margin="0 0 0 10">
                    <StackPanel Margin="10">
                        <TextBlock Text="Detected files"
                                   FontWeight="Bold"
                                   Margin="0 0 0 10"/>
                        <DataGrid x:Name="CleanerGrid" Height="250" 
                                  ItemsSource="{Binding TempInfo, Mode=TwoWay}" 
                                  Style="{StaticResource CustomDataGrid}"/>
                    </StackPanel>
                </Border>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <userControl:CommonButton PreviewMouseLeftButtonDown="AnalyzeBtn_Click"
                        SetContent="Analyze"
                        IsEnabled="{Binding CanAnalyze}"
                        SetIsEnabled="{Binding CanAnalyze}"
                        Margin="0 0 50 0"/>

                    <userControl:CommonButton PreviewMouseLeftButtonDown="RunBtn_Click"
                        SetContent="Run Cleaner"
                        IsEnabled="{Binding CanRunCleaner}"
                        SetIsEnabled="{Binding CanRunCleaner}"/>
                </StackPanel>
            </StackPanel>
            
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="210"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
        </Grid>
    </Grid>
</Page>
